<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å£ç®—å¤§å¯¹æˆ˜ - åŒäººæ•°å­¦ç«æŠ€æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #fff;
        }
        
        .container {
            width: 100%;
            max-width: 900px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .header {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            position: relative;
        }
        
        h1 {
            font-size: 36px;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .subtitle {
            font-size: 18px;
            opacity: 0.9;
        }
        
        .sound-control {
            position: absolute;
            right: 20px;
            top: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .sound-control:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.2);
        }
        
        .timer {
            font-size: 24px;
            font-weight: bold;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 30px;
        }
        
        .round {
            font-size: 20px;
            display: flex;
            align-items: center;
        }
        
        .players-container {
            display: flex;
            padding: 20px;
            gap: 20px;
        }
        
        .player {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .player.active {
            border-color: #ffdd00;
            box-shadow: 0 0 15px rgba(255, 221, 0, 0.5);
            transform: scale(1.02);
        }
        
        .player-1.active {
            border-color: #4facfe;
            box-shadow: 0 0 15px rgba(79, 172, 254, 0.5);
        }
        
        .player-2.active {
            border-color: #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
        }
        
        .player-name {
            font-size: 24px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .player-1 .player-name {
            color: #4facfe;
        }
        
        .player-2 .player-name {
            color: #ff6b6b;
        }
        
        .player-score {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .question-box {
            background: rgba(0, 0, 0, 0.3);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .question {
            font-size: 42px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        
        .answer-input {
            width: 100%;
            height: 60px;
            font-size: 28px;
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            border: none;
            border-radius: 10px;
            margin-bottom: 15px;
            color: #333;
        }
        
        .submit-btn {
            width: 100%;
            padding: 15px;
            background: #4facfe;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .submit-btn:hover {
            background: #3a9df7;
            transform: translateY(-2px);
        }
        
        .player-2 .submit-btn {
            background: #ff6b6b;
        }
        
        .player-2 .submit-btn:hover {
            background: #ff5252;
        }
        
        .progress-container {
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
        }
        
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .progress-bars {
            display: flex;
            gap: 10px;
        }
        
        .progress-bar {
            flex: 1;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            transition: width 0.5s ease-in-out;
        }
        
        .player-1 .progress-fill {
            background: linear-gradient(90deg, #4facfe, #00f2fe);
        }
        
        .player-2 .progress-fill {
            background: linear-gradient(90deg, #ff6b6b, #ffa36c);
        }
        
        .controls {
            display: flex;
            padding: 20px;
            gap: 15px;
            background: rgba(0, 0, 0, 0.3);
        }
        
        .control-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .start-btn {
            background: #00b894;
            color: white;
        }
        
        .start-btn:hover {
            background: #00a085;
        }
        
        .reset-btn {
            background: #636e72;
            color: white;
        }
        
        .reset-btn:hover {
            background: #556268;
        }
        
        .difficulty-select {
            padding: 15px;
            border-radius: 10px;
            border: none;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        
        .result-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        
        .result-content {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        .result-title {
            font-size: 36px;
            margin-bottom: 20px;
        }
        
        .winner {
            font-size: 48px;
            font-weight: bold;
            margin: 20px 0;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        .player-1.winner {
            color: #4facfe;
        }
        
        .player-2.winner {
            color: #ff6b6b;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat-value {
            font-size: 32px;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 16px;
            opacity: 0.8;
        }
        
        .close-btn {
            padding: 12px 30px;
            background: #4facfe;
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .close-btn:hover {
            background: #3a9df7;
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .players-container {
                flex-direction: column;
            }
            
            .question {
                font-size: 32px;
            }
            
            h1 {
                font-size: 28px;
            }
            
            .sound-control {
                position: static;
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>å£ç®—å¤§å¯¹æˆ˜</h1>
            <div class="subtitle">åŒäººæ•°å­¦ç«æŠ€æ¸¸æˆ - æ¯”æ‹¼é€Ÿåº¦ä¸å‡†ç¡®æ€§</div>
            <button class="sound-control" id="sound-toggle">ğŸ”Š</button>
        </div>
        
        <div class="game-info">
            <div class="timer">æ—¶é—´: <span id="timer">60</span>ç§’</div>
            <div class="round">å›åˆ: <span id="round">1</span>/10</div>
        </div>
        
        <div class="players-container">
            <div class="player player-1 active">
                <div class="player-name">
                    <span>ç©å®¶1</span>
                </div>
                <div class="player-score" id="player1-score">0</div>
                <div class="question-box">
                    <div class="question" id="player1-question">5 + 3 = ?</div>
                    <input type="number" class="answer-input" id="player1-answer" placeholder="è¾“å…¥ç­”æ¡ˆ">
                    <button class="submit-btn" onclick="checkAnswer(1)">æäº¤ç­”æ¡ˆ</button>
                </div>
            </div>
            
            <div class="player player-2">
                <div class="player-name">
                    <span>ç©å®¶2</span>
                </div>
                <div class="player-score" id="player2-score">0</div>
                <div class="question-box">
                    <div class="question" id="player2-question">7 Ã— 2 = ?</div>
                    <input type="number" class="answer-input" id="player2-answer" placeholder="è¾“å…¥ç­”æ¡ˆ">
                    <button class="submit-btn" onclick="checkAnswer(2)">æäº¤ç­”æ¡ˆ</button>
                </div>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-label">
                <span>ç©å®¶1è¿›åº¦</span>
                <span>ç©å®¶2è¿›åº¦</span>
            </div>
            <div class="progress-bars">
                <div class="progress-bar">
                    <div class="progress-fill" id="player1-progress" style="width: 0%"></div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="player2-progress" style="width: 0%"></div>
                </div>
            </div>
        </div>
        
        <div class="controls">
            <select class="difficulty-select" id="difficulty">
                <option value="easy">ç®€å• (åŠ å‡æ³•)</option>
                <option value="medium">ä¸­ç­‰ (åŠ å‡ä¹˜æ³•)</option>
                <option value="hard">å›°éš¾ (åŠ å‡ä¹˜é™¤æ³•)</option>
            </select>
            <button class="control-btn start-btn" onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
            <button class="control-btn reset-btn" onclick="resetGame()">é‡æ–°å¼€å§‹</button>
        </div>
    </div>
    
    <div class="result-modal" id="result-modal">
        <div class="result-content">
            <div class="result-title">æ¸¸æˆç»“æŸ</div>
            <div class="winner" id="winner">ç©å®¶1 è·èƒœ!</div>
            <div class="stats">
                <div class="stat">
                    <div class="stat-value" id="player1-final-score">0</div>
                    <div class="stat-label">ç©å®¶1å¾—åˆ†</div>
                </div>
                <div class="stat">
                    <div class="stat-value" id="player2-final-score">0</div>
                    <div class="stat-label">ç©å®¶2å¾—åˆ†</div>
                </div>
            </div>
            <button class="close-btn" onclick="closeResult()">å†æ¥ä¸€å±€</button>
        </div>
    </div>

    <!-- éŸ³é¢‘å…ƒç´  -->
    <audio id="correct-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
    </audio>
    <audio id="wrong-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3" type="audio/mpeg">
    </audio>
    <audio id="start-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-game-show-intro-331.mp3" type="audio/mpeg">
    </audio>
    <audio id="end-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-game-level-completed-2059.mp3" type="audio/mpeg">
    </audio>
    <audio id="countdown-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3" type="audio/mpeg">
    </audio>
    <audio id="switch-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>

    <script>
        // æ¸¸æˆçŠ¶æ€
        const gameState = {
            player1: {
                score: 0,
                currentQuestion: {},
                progress: 0
            },
            player2: {
                score: 0,
                currentQuestion: {},
                progress: 0
            },
            currentRound: 1,
            totalRounds: 10,
            timeLeft: 60,
            timer: null,
            isActive: false,
            currentPlayer: 1,
            difficulty: 'easy',
            soundEnabled: true
        };

        // DOMå…ƒç´ 
        const elements = {
            timer: document.getElementById('timer'),
            round: document.getElementById('round'),
            player1Score: document.getElementById('player1-score'),
            player2Score: document.getElementById('player2-score'),
            player1Question: document.getElementById('player1-question'),
            player2Question: document.getElementById('player2-question'),
            player1Answer: document.getElementById('player1-answer'),
            player2Answer: document.getElementById('player2-answer'),
            player1Progress: document.getElementById('player1-progress'),
            player2Progress: document.getElementById('player2-progress'),
            difficulty: document.getElementById('difficulty'),
            resultModal: document.getElementById('result-modal'),
            winner: document.getElementById('winner'),
            player1FinalScore: document.getElementById('player1-final-score'),
            player2FinalScore: document.getElementById('player2-final-score'),
            soundToggle: document.getElementById('sound-toggle')
        };

        // éŸ³é¢‘å…ƒç´ 
        const sounds = {
            correct: document.getElementById('correct-sound'),
            wrong: document.getElementById('wrong-sound'),
            start: document.getElementById('start-sound'),
            end: document.getElementById('end-sound'),
            countdown: document.getElementById('countdown-sound'),
            switch: document.getElementById('switch-sound')
        };

        // åˆå§‹åŒ–æ¸¸æˆ
        function init() {
            generateQuestions();
            updateUI();
            
            // æ·»åŠ é”®ç›˜äº‹ä»¶ç›‘å¬
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    if (gameState.currentPlayer === 1) {
                        checkAnswer(1);
                    } else {
                        checkAnswer(2);
                    }
                }
            });

            // éŸ³æ•ˆåˆ‡æ¢äº‹ä»¶
            elements.soundToggle.addEventListener('click', toggleSound);
        }

        // åˆ‡æ¢éŸ³æ•ˆ
        function toggleSound() {
            gameState.soundEnabled = !gameState.soundEnabled;
            elements.soundToggle.textContent = gameState.soundEnabled ? 'ğŸ”Š' : 'ğŸ”‡';
            
            // æ’­æ”¾åˆ‡æ¢éŸ³æ•ˆ
            if (gameState.soundEnabled) {
                playSound(sounds.switch);
            }
        }

        // æ’­æ”¾éŸ³æ•ˆ
        function playSound(sound) {
            if (gameState.soundEnabled) {
                sound.currentTime = 0;
                sound.play().catch(e => console.log("éŸ³é¢‘æ’­æ”¾å¤±è´¥:", e));
            }
        }

        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            if (gameState.isActive) return;
            
            gameState.isActive = true;
            gameState.currentRound = 1;
            gameState.player1.score = 0;
            gameState.player2.score = 0;
            gameState.player1.progress = 0;
            gameState.player2.progress = 0;
            gameState.timeLeft = 60;
            gameState.difficulty = elements.difficulty.value;
            
            updateUI();
            generateQuestions();
            startTimer();
            
            // æ’­æ”¾å¼€å§‹éŸ³æ•ˆ
            playSound(sounds.start);
            
            // æ¿€æ´»ç©å®¶1
            setActivePlayer(1);
        }

        // é‡ç½®æ¸¸æˆ
        function resetGame() {
            clearInterval(gameState.timer);
            gameState.isActive = false;
            gameState.currentRound = 1;
            gameState.player1.score = 0;
            gameState.player2.score = 0;
            gameState.player1.progress = 0;
            gameState.player2.progress = 0;
            gameState.timeLeft = 60;
            
            updateUI();
            generateQuestions();
            
            // æ¸…ç©ºè¾“å…¥æ¡†
            elements.player1Answer.value = '';
            elements.player2Answer.value = '';
            
            // æ¿€æ´»ç©å®¶1
            setActivePlayer(1);
        }

        // å¼€å§‹è®¡æ—¶å™¨
        function startTimer() {
            clearInterval(gameState.timer);
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                elements.timer.textContent = gameState.timeLeft;
                
                // æœ€å5ç§’æ’­æ”¾å€’è®¡æ—¶éŸ³æ•ˆ
                if (gameState.timeLeft <= 5 && gameState.timeLeft > 0) {
                    playSound(sounds.countdown);
                }
                
                if (gameState.timeLeft <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // ç”Ÿæˆé¢˜ç›®
        function generateQuestions() {
            gameState.player1.currentQuestion = generateQuestion();
            gameState.player2.currentQuestion = generateQuestion();
            
            elements.player1Question.textContent = `${gameState.player1.currentQuestion.a} ${gameState.player1.currentQuestion.operator} ${gameState.player1.currentQuestion.b} = ?`;
            elements.player2Question.textContent = `${gameState.player2.currentQuestion.a} ${gameState.player2.currentQuestion.operator} ${gameState.player2.currentQuestion.b} = ?`;
        }

        // æ ¹æ®éš¾åº¦ç”Ÿæˆé¢˜ç›®
        function generateQuestion() {
            let a, b, operator, answer;
            const difficulty = gameState.difficulty;
            
            if (difficulty === 'easy') {
                // ç®€å•ï¼š10ä»¥å†…åŠ å‡æ³•
                a = Math.floor(Math.random() * 10) + 1;
                b = Math.floor(Math.random() * 10) + 1;
                operator = Math.random() > 0.5 ? '+' : '-';
                if (operator === '-' && a < b) [a, b] = [b, a]; // ç¡®ä¿ç»“æœä¸ºæ­£æ•°
                answer = operator === '+' ? a + b : a - b;
            } else if (difficulty === 'medium') {
                // ä¸­ç­‰ï¼šåŠ å‡ä¹˜æ³•
                const rand = Math.random();
                if (rand < 0.4) {
                    // åŠ æ³•
                    a = Math.floor(Math.random() * 20) + 1;
                    b = Math.floor(Math.random() * 20) + 1;
                    operator = '+';
                    answer = a + b;
                } else if (rand < 0.8) {
                    // å‡æ³•
                    a = Math.floor(Math.random() * 20) + 10;
                    b = Math.floor(Math.random() * 10) + 1;
                    operator = '-';
                    if (a < b) [a, b] = [b, a];
                    answer = a - b;
                } else {
                    // ä¹˜æ³•
                    a = Math.floor(Math.random() * 9) + 1;
                    b = Math.floor(Math.random() * 9) + 1;
                    operator = 'Ã—';
                    answer = a * b;
                }
            } else {
                // å›°éš¾ï¼šåŠ å‡ä¹˜é™¤æ³•
                const rand = Math.random();
                if (rand < 0.3) {
                    // åŠ æ³•
                    a = Math.floor(Math.random() * 50) + 10;
                    b = Math.floor(Math.random() * 50) + 10;
                    operator = '+';
                    answer = a + b;
                } else if (rand < 0.6) {
                    // å‡æ³•
                    a = Math.floor(Math.random() * 50) + 30;
                    b = Math.floor(Math.random() * 30) + 10;
                    operator = '-';
                    answer = a - b;
                } else if (rand < 0.8) {
                    // ä¹˜æ³•
                    a = Math.floor(Math.random() * 12) + 1;
                    b = Math.floor(Math.random() * 12) + 1;
                    operator = 'Ã—';
                    answer = a * b;
                } else {
                    // é™¤æ³• (ç¡®ä¿èƒ½æ•´é™¤)
                    b = Math.floor(Math.random() * 10) + 1;
                    a = b * (Math.floor(Math.random() * 10) + 1);
                    operator = 'Ã·';
                    answer = a / b;
                }
            }
            
            return { a, b, operator, answer };
        }

        // æ£€æŸ¥ç­”æ¡ˆ
        function checkAnswer(player) {
            if (!gameState.isActive) return;
            
            const answerInput = player === 1 ? elements.player1Answer : elements.player2Answer;
            const userAnswer = parseInt(answerInput.value);
            
            if (isNaN(userAnswer)) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„æ•°å­—ç­”æ¡ˆï¼');
                return;
            }
            
            const currentQuestion = player === 1 ? gameState.player1.currentQuestion : gameState.player2.currentQuestion;
            const isCorrect = userAnswer === currentQuestion.answer;
            
            if (isCorrect) {
                // å›ç­”æ­£ç¡®ï¼Œå¢åŠ åˆ†æ•°
                if (player === 1) {
                    gameState.player1.score += 10;
                    gameState.player1.progress += 10;
                } else {
                    gameState.player2.score += 10;
                    gameState.player2.progress += 10;
                }
                
                // æ’­æ”¾æ­£ç¡®éŸ³æ•ˆ
                playSound(sounds.correct);
                
                // ç”Ÿæˆæ–°é¢˜ç›®
                if (player === 1) {
                    gameState.player1.currentQuestion = generateQuestion();
                    elements.player1Question.textContent = `${gameState.player1.currentQuestion.a} ${gameState.player1.currentQuestion.operator} ${gameState.player1.currentQuestion.b} = ?`;
                } else {
                    gameState.player2.currentQuestion = generateQuestion();
                    elements.player2Question.textContent = `${gameState.player2.currentQuestion.a} ${gameState.player2.currentQuestion.operator} ${gameState.player2.currentQuestion.b} = ?`;
                }
                
                // æ¸…ç©ºè¾“å…¥æ¡†
                answerInput.value = '';
                
                // åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªç©å®¶
                setActivePlayer(player === 1 ? 2 : 1);
                
                // æ›´æ–°å›åˆ
                gameState.currentRound++;
                if (gameState.currentRound > gameState.totalRounds) {
                    endGame();
                    return;
                }
                
                updateUI();
            } else {
                // å›ç­”é”™è¯¯ï¼Œæç¤º
                alert('ç­”æ¡ˆé”™è¯¯ï¼Œè¯·é‡æ–°è®¡ç®—ï¼');
                // æ’­æ”¾é”™è¯¯éŸ³æ•ˆ
                playSound(sounds.wrong);
                answerInput.value = '';
                answerInput.focus();
            }
        }

        // è®¾ç½®å½“å‰æ´»è·ƒç©å®¶
        function setActivePlayer(player) {
            gameState.currentPlayer = player;
            
            // æ›´æ–°UIé«˜äº®
            document.querySelector('.player-1').classList.toggle('active', player === 1);
            document.querySelector('.player-2').classList.toggle('active', player === 2);
            
            // æ’­æ”¾åˆ‡æ¢éŸ³æ•ˆ
            playSound(sounds.switch);
            
            // èšç„¦åˆ°å½“å‰ç©å®¶çš„è¾“å…¥æ¡†
            if (player === 1) {
                elements.player1Answer.focus();
            } else {
                elements.player2Answer.focus();
            }
        }

        // æ›´æ–°UI
        function updateUI() {
            elements.timer.textContent = gameState.timeLeft;
            elements.round.textContent = gameState.currentRound;
            elements.player1Score.textContent = gameState.player1.score;
            elements.player2Score.textContent = gameState.player2.score;
            
            // æ›´æ–°è¿›åº¦æ¡
            elements.player1Progress.style.width = `${gameState.player1.progress}%`;
            elements.player2Progress.style.width = `${gameState.player2.progress}%`;
        }

        // ç»“æŸæ¸¸æˆ
        function endGame() {
            clearInterval(gameState.timer);
            gameState.isActive = false;
            
            // æ’­æ”¾ç»“æŸéŸ³æ•ˆ
            playSound(sounds.end);
            
            // ç¡®å®šè·èƒœè€…
            let winnerText;
            if (gameState.player1.score > gameState.player2.score) {
                winnerText = 'ç©å®¶1 è·èƒœ!';
                elements.winner.className = 'winner player-1';
            } else if (gameState.player2.score > gameState.player1.score) {
                winnerText = 'ç©å®¶2 è·èƒœ!';
                elements.winner.className = 'winner player-2';
            } else {
                winnerText = 'å¹³å±€!';
                elements.winner.className = 'winner';
            }
            
            elements.winner.textContent = winnerText;
            elements.player1FinalScore.textContent = gameState.player1.score;
            elements.player2FinalScore.textContent = gameState.player2.score;
            
            // æ˜¾ç¤ºç»“æœæ¨¡æ€æ¡†
            elements.resultModal.style.display = 'flex';
        }

        // å…³é—­ç»“æœæ¨¡æ€æ¡†
        function closeResult() {
            elements.resultModal.style.display = 'none';
            resetGame();
        }

        // å¯åŠ¨æ¸¸æˆ
        window.onload = init;
    </script>
</body>
</html>